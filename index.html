<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>ุซุจุช ูุงู ูุณุงุจูุงุช ููุง</title>
</head>

<body style="font-family:tahoma;text-align:center">

<h1>๐ ุซุจุช ูุงู ูุณุงุจูุงุช FIFA ุฏุจุฑุณุชุงู ุงูุงู ุฑุถุง(ุน)</h1>

<input id="name" placeholder="ูุงู ู ูุงู ุฎุงููุงุฏฺฏ"><br><br>
<input id="class" placeholder="ฺฉูุงุณ"><br><br>
<input id="phone" placeholder="ุดูุงุฑู ุชูุงุณ"><br><br>

<button onclick="register()">ุซุจุช ูุงู</button>

<h2>ุดุฑฺฉุช ฺฉููุฏฺฏุงู</h2>
<ul id="players"></ul>

<script>

const API="https://fifa-school.onrender.com";  <!-- ููฺฉ ุณุฑูุฑุช -->

async function register(){

 // ุงุทูุงุนุงุช ุฑู ุจู ุณุฑูุฑ ูโูุฑุณุชู
 await fetch(API+"/register",{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({
   name:name.value,
   className:class.value,
   phone:phone.value
  })
 });

 alert("ุซุจุช ุดุฏ โ");
 loadPlayers();
}

async function loadPlayers(){
 const res=await fetch(API+"/players");
 const data=await res.json();

 document.getElementById("players").innerHTML="";
 data.forEach(p=>{
  document.getElementById("players").innerHTML+=`<li>${p.name} - ${p.className}</li>`;
 });
}

// ููุช ุณุงุช ููุฏ ุดุฏุ ูุณุช ุดุฑฺฉุชโฺฉููุฏูโูุง ุฑู ููุงุด ุจุฏู
loadPlayers();

</script>

</body>
</html>
